# JavaScript 

笔记整理顺序：

- [2022最新版JavaScript入门到精通，前端js全套基础&实战教程](https://www.bilibili.com/video/BV1Kq4y1e7d2)
- 

## JavaScript介绍

### JavaScript是什么

1. JavaScript是什么

   是一种运行在客户端（浏览器）的编程语言，实现人机交互效果。

2. JavaScript的作用

   - 网页特效(监听用户的一些行为让网页作出对应的反馈)
   - 表单验证(针对表单数据的合法性进行判断)
   - 数据交互(获取后台的数据，渲染到前端)
   - 服务端编程(node.js)

3. JavaScript的组成

   - ECMAScript：规定了js基础语法核心知识。
     - 比如：变量、分支语句、循环语句、对象等等
     
   - Web APIs：
     - DOM 操作文档：比如对页面元素进行移动、大小、添加删除等操作
     - BOM 操作浏览器：比如页面弹窗，检测窗口宽度、存储数据到浏览器等等
     
     ![](images\JavaScript_consist.png)

### JavaScript书写位置

1. 内部JavaScript

   **用法：**直接写在html文件中，用script标签包住

   **规范：**script标签写在\</body>上面

   **注意：**我们将\<script>放在HTML文件的底部附近的原因是浏览器会按照代码在文件中的顺序加载HTML。如果先加载的JavaScript期望修改其下方的HTML，那么它可能由于HTML尚未被加载而失效。因此，将JavaScript 代码放在HTML页面的底部附近通常是最好的策略

2. 外部JavaScript

   **用法：**代码写在.js结尾的文件里

   **语法：**通过script标签，引入到html页面中

   **注意：**script标签中间无需写代码，否则会被忽略！外部JavaScript会使代码更加有序，更易于复用，且没有了脚本的混合，HTML也会更加易读。
   
3. 内联JavaScript

   **用法：**代码写在标签里

   **注意：**此处作为了解，后面vue框架会用到这种模式

### JavaScript的注释

1. 单行注释

   - 符号：//
   - 作用：//右边这一行的代码会被忽略
   - 快捷键：ctrl + /

2. 块注释

   符号：/**/

   作用：在/*和\*/之间的所有内容都会被忽略

   快捷键：shift + alt + a

### JavaScript结束符

1. 结束符

   **意义：**代表语句结束

   **写法：**英文分号 ;

   **注意：**可写可不写，为了统一风格，要么每句都写，要么都不写

### 输入和输出语法

1. 输出语法：

   - ```javascript
     document.write('要输出的内容');
     ```

     向body内输出内容，如果输出的内容写的是标签，也会被解析成网页元素

   - ```javascript
     alert('要输出的内容');
     ```

     页面弹出警告对话框

   - ```javascript
     console.log('控制台打印');
     ```

     控制台输出语法，程序员调试使用

2. 输入语法：

   - ```javascript
     prompt('请输入您的姓名：');
     ```

     显示一个对话框，对话框中包含一条文字信息，用来提示用户输入文字

## 变量

### 变量是什么

**含义：**变量是计算机存储数据的“容器”

**作用：**计算机用来存放数据的

**注意：**变量不是数据本身，而是一个存储数据的容器。

### 变量的基本使用

1. 声明变量

   **语法：**let 变量名

   - 声明变量由两部分组成：声明关键字、变量名

2. 变量赋值

   **语法：**变量名 = 数值 

   **注意：**

   - 通过变量名来获取变量里面的数据
   - 可以在声明变量的时候同时赋值：let 变量名 = 数值

3. 更新变量

   **注意：**let 不允许多次声明一个变量

4. 声明多个变量

   **语法：**let 变量1，变量2，...，变量n

   **注意：**声明多个变量时也可同时赋值

### 变量的本质

- **内存：**计算机中存储数据的地方，相当于一个空间
- **变量：**是程序在内存中申请的一块用于存放数据的小空间

### 变量命名规则和规范

**规则：**必须遵守，不遵守报错

**规范：**建议，不遵守不会报错，但不符合行业通识

1. 规则：
   - 不能使用关键字
   - 只能用下划线、字母、数字、$组成，且数字不能开头
   - 字母严格区分大小写，如Age和age是不同的变量
2. 规范：
   - 起名要有意义
   - 遵守小驼峰命名法（第一个单词首字母小写，后面的每一个单词首字母大写）

### 变量拓展

1. let 和 var 的区别

   let 为了解决 var 的一些问题

   **var 声明：**

   - 可以先使用，再声明（不合理）
   - var 声明过的变量可以重复声明（不合理）
   - 比如变量提升、全局变量、没有块级作用域等等

   **结论：**以后声明变量统一使用 let

2. 数组

   数组（Array）是一种可以按照顺序保存多个数据

   元素：数组中保存的每个数据都叫做数组元素

   下标：数组中的数据的编号（0,1,2,3,...,n）

   长度：数组中数据的个数，通过数组的 length 属性获得

   **声明语法：**let 数组名 = [数据1，数据2，...，数组n]

   **取值语法：**数组名[索引下标]

## 数据类型

### 数据类型分类

JavaScript数据类型整体分为两大类：

- 基本数据类型
  - number 数字型
  - string 字符串型
  - boolean 布尔型
  - undefined 未定义型
  - null 空类型
- 引用数据类型
  - object 对象
  - function 函数
  - array 数组

### 基本数据类型

1. 数字类型 （number）

   JavaScript中的正数、负数、小数等统一称为数字类型

   **注意：**

   - JavaScript是弱数据类型，变量到底属于哪种数据类型，只有赋值之后，我们才能确定
   - Java是强数据类型，赋值之前必须确定属于哪种数据类型

2. 字符串类型 （string）

   通过单引号(")、双引号("")或反引号(`)包裹的数据都叫字符串，单引号和双引号没有本质上的区别，推荐使用单引号。

   **注意：**

   - 无论单引号或是双引号必须成对使用
   - 单引号/双引号可以互相嵌套，但是不以自已嵌套自已
   - 必要时可以使用转义符\，输出单引号或双引号

   **拓展 - 模板字符串**

   1. 作用

      - 拼接字符串和变量

      - 没有它之前，拼接变量比较麻烦

        ```javascript
        document.write("大家好，我叫" + name + '，今年' + age + '岁')
        ```

   2. 符号

      - ``

      - 内容拼接变量时，用${}包住变量

        ```javascript
        document.write(`大家好，我叫${name}，今年${age}岁`)
        ```

3. 布尔类型 （boolean）

   表示肯定或否定时在计算机中对应的是布尔类型数据，它有两个固定的值，true和false。

4. 未定义类型 （undefined）

   未定义是比较特殊的类型，只有一个值 undefined

   **用法：**只声明变量，不赋值的情况下，变量的默认值为 undefined，一般很少【直接】为某个变量赋值为undefined

   ```javascript
   let age //声明变量但是未赋值
   console.log(age) //控制台输出undefined
   ```

   **工作中的使用场景：**

   - 我们开发中经常声明一个变量，等待传送过来的数据。
   - 如果我们不知道这个数据是否传递过来，此时我们可以通过检测这个变量是不是undefined，就判断用户是否有数据传递过来。

   **总结使用：**

   | 情况                       | 说明                     | 结果      |
   | :------------------------- | ------------------------ | --------- |
   | let age; console.log(age)  | 只声明，不赋值           | undefined |
   | console.log(age)           | 不声明，不赋值，直接使用 | 报错      |
   | age = 10; console.log(age) | 不声明，只赋值（不提倡） | 10        |

5. 空类型 （null）

   null 表示 值为 空

   ```javascript
   let obj = null
   ```

   **null 和 undefined 区别：**

   1. undefined 表示没有赋值
   2. null 表示赋值了，但是内容为空

   **工作中的使用场景：**

   - 官方解释：把null 作为尚未创建的对象
   - 大白话：将来有个变量里面存放的是一个对象，但是对象还没创建好，可以先赋值为null

### 检测数据类型

1. 控制台输出语句：

   **语法：**console.log(变量)

   - 控制台语句经常用于测试结果来使用
   - 可以看出数字型和布尔型颜色为蓝色，字符串和undefined颜色为灰色

2. 通过typeof关键字检测数据类型

   **语法：**console.log(typeof 变量)

## 类型转换

### 为什么需要类型转换

JavaScript是弱数据类型，它也不知道变量到底属于那种数据类型，只有赋值了才清楚。

**注意：** 

- 使用表单、prompt 获取过来的数据默认是字符串类型的，此时就不能直接简单的进行加法运算，需要转换变量的数据类型。
- 通俗来说，就是把一种数据类型的变量转换成我们需要的数据类型。

### 隐式转换

某些运算符被执行时，系统内部自动将数据类型进行转换，这种转换称为隐式转换。

**规则：**

- ＋号两边只要有一个是字符串，都会把另外一个转成字符串
- 除了 + 以外的算术运算符比如 – 、* 、 / 等都会把数据转成数字类型

**缺点：**

- 转换类型不明确，靠经验才能总结

**小技巧：**

- +号作为正号解析可以转换成数字类型

  ```javascript
  console.log(+"11" + 11) //控制台输出22
  ```

### 显式转换

编写程序时过度依靠系统内部的隐式转换是不严谨的，因为隐式转换规律并不清晰，大多是靠经验总结的规律。为了避免因隐式转换带来的问题，通常根据逻辑需要对数据进行显示转换。

**概念：**自己写代码告诉系统该转成什么数据类型

1. 转换为数字型

   - Number(数据)

     - 转成数字类型
     - 如果字符串内容里有非数字，转换失败时结果为NaN（Not a Number），即不是一个数字
     - NaN也是number类型的数据，代表非数字

   - parseInt(数据)

     - 只保留整数

   - parseFloat(数据)

     - 只保留小数

     

2. 转换为字符型

   - String(数据)
   - 变量.toString(进制)

## 运算符

### 算数运算符

数学运算符也叫算数运算符，主要包括加、减、乘、除、取余（求模）。

- +：求和
- -：求差
- *：求积
- /：求商
- %：取模（取余数）
  - 开发中经常作为某个数字是否被整除

### 赋值运算符

赋值运算符：对变量进行赋值的运算符

- 已经学过的赋值运算符：= （<font color='red'>将等号右边的值赋给左边，要求左边必须是一个容器</font>）
- 其他赋值运算符：
  - +=
  - -=
  - *=
  - /=
  - %=

### 一元运算符

- 自增
  - 符号：++
  - 作用：让变量的值+1
- 自减
  - 符号：--
  - 作用：让变量的值-1

**注意：**经常用于计数，比如进行10次操作，用它来计算进行了多少次了

**难点：**前置自增、自减和后置自增、自减如果参与运算就有区别

- 前置自增、自减：先自加、自减再使用
- 后置自增、自减：先使用再自增、自减

### 比较运算符

**作用：**比较两个数据大小、是否相等

**比较运算符：**

- \>:	左边是否大于右边
- \<:	左边是否小于右边
- \>=:	左边是否大于或等于右边
- \<=:	左边是否小于或等于右边
- ==:	左边是否等于右边
- ===:	左右两边是否类型和值都相等
- \!==:	左右两边是否不全等
- 比较结果为boolean类型，即只会得到true或false

**细节：**

- 字符串比较，是比较的字符对应的ASCII码
  - 从左往右依次比较
  - 如果第一位一样再比较第二位，以此类推
- NaN不等于任何值，包括它本身
- 尽量不要比较小数，因为小数有精度问题
- 不同类型之间比较会发生隐式转换
  - 最终把数据隐式转换成Number类型再比较
  - 所以开发中，如果进行准确比较，使用===或者!==

### 逻辑运算符

1. 逻辑运算符的介绍

   逻辑运算符用来解决多重条件判断

2. 逻辑运算符的使用

   | 符号 | 名称   | 日常读法 | 特点                         | 口诀           |
   | ---- | ------ | -------- | ---------------------------- | -------------- |
   | &&   | 逻辑与 | 并且     | 符号两边都为true结果才为true | 一假则假       |
   | \|\| | 逻辑或 | 或者     | 符号两边有一个true就为true   | 一真则真       |
   | !    | 逻辑非 | 取反     | true变false false变true      | 真变假，假变真 |

3. 逻辑运算法的短路

   - 短路：只存在于&&和||中，当满足一定条件会让右边的代码不执行

     | 符号 | 短路条件          |
     | ---- | ----------------- |
     | &&   | 左边为false就短路 |
     | \|\| | 左边为true就短路  |

   - 原因：通过左边能得到整个式子的结果，因此没必要再判断右边

   - 运算结果：无论&& 还是 ||，运算结果都是最后被执行的表达式值，一般用在变量赋值

### 运算符优先级

| 优先级 | 运算符     | 顺序           |
| ------ | ---------- | -------------- |
| 1      | 小括号     | ()             |
| 2      | 一元运算符 | ++ -- !        |
| 3      | 算数运算符 | 先* / % 后 + - |
| 4      | 关系运算符 | > >= < <=      |
| 5      | 相等运算符 | == != === !==  |
| 6      | 逻辑运算符 | 先&& 后 \|\|   |
| 7      | 赋值运算符 | =              |
| 8      | 逗号运算符 | ，             |

- 一元运算符里面的逻辑非优先级很高
- 逻辑与比逻辑或优先级高

## 语句

### 表达式和语句

- **表达式：**表达式是一组代码的集合，JavaScript解释器会将其计算出一个结果
- **语句：**js整句或命令，js语句是以分号结束（可以省略）
- **区别：**表达式计算出一个值，但语句用来自行以使某件事发生
  - 表达式 3 + 4
  - 语句 alert() 弹出对话框

### 分支语句

1. 程序三大流程控制语句

   - 以前我们写的代码，写几句就从上往下执行几句，这种叫顺序结构
   - 有的时候要根据条件选择执行代码，这种就叫分支结构
   - 某段代码被重复执行，就叫循环结构

2. 分支语句

   分支语句可以让我们有选择性的执行想要的代码

   分支语句包含：

   - if 分支语句

     - if 语句有三种使用：单分支、双分支、多分支

     - 单分支使用语法：

       ```javascript
       if (条件) {
       	满足条件要执行的代码
       }
       ```

       - 括号内的条件为true时，进入大括号里执行代码
       - 小括号内的结果若不是布尔型是，会发生隐式转换为布尔型

     - 多分支语法：

       ```javascript
       if (条件1) {
           代码1
       } else if (条件2) {
           代码2
       } else if (条件3) {
           代码3
       } else {
           代码n
       }
       ```

   - 三元运算符

     **符号：**？与：配合使用

     **语法：**

     ```javascript
     条件 ? 满足条件执行的代码 : 不满足条件执行的代码
     ```

     **用途：**一般用来取值

   - switch 语句

     ```javascript
     switch (数据) {
         case 值1:
             代码1
             break
         case 值2:
             代码2
             break
         default:
             代码n
             break
     }
     ```

     **释义：**

     - 找到跟小括号里数据**全等**的case值，并执行里面对应的代码
     - 若没有全等 === 的，执行default里的代码

     **注意：**

     - switch case语句一般用于等值判断，不适合于区间判断
     - switch case语句一般需要配合break关键字使用，没有break会造成case穿透

### 循环语句

1. 断点调试
2. while循环

